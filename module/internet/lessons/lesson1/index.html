<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Lesson 1: What is Hacking?</title>
  <link rel="stylesheet" href="../../../../css/style.css">
  <link rel="stylesheet" href="../../../../css/lesson.css">
</head>
<body>
  <div class="lesson-container">
    <h1>Lesson 1: What is Hacking?</h1>
    <p>This lesson introduces you to the world of hacking, ethics, and hacker types.</p>

    <div class="section-list">
      <a href="lesson1/material.html" class="section-link" data-section="material">
        <span class="check"></span>
        <span>1. Material</span>
      </a>

      <a href="lesson1/example.html" class="section-link" data-section="example">
        <span class="check"></span>
        <span>2. Example Hack</span>
      </a>

      <a href="lesson1/quiz.html" class="section-link" data-section="quiz">
        <span class="check"></span>
        <span>3. Quiz</span>
      </a>

      <a href="lesson1/deepdive.html" class="section-link" data-section="deepdive">
        <span class="check"></span>
        <span>4. Deep Dive</span>
      </a>

      <a href="lesson1/battle.html" class="section-link" data-section="battle">
        <span class="check"></span>
        <span>5. Battle</span>
      </a>
    </div>
  </div>

  <div id="lesson-finished" style="display: none; margin-top: 30px;">
    <p style="font-size: 1.2rem; font-weight: 500;">üéâ Congratulations! You have finished this lesson! Time to keep moving!</p>
  </div>
  
  <p><a href="../index.html" class="continue-button">‚Üê Go Back to Module Overview</a></p>

  <script>
    document.addEventListener("DOMContentLoaded", () => {
      document.querySelectorAll(".section-link").forEach(link => {
        const sectionId = "lesson1-" + link.dataset.section;
        const isComplete = localStorage.getItem(sectionId) === "true";
        if (isComplete) {
          link.querySelector(".check").textContent = "‚úîÔ∏è";
          link.classList.add("completed");
        }
      });
    });

    function checkLessonCompletion() {
  const suffixes = ["material", "example", "quiz", "deepdive", "battle"];

  const completed = suffixes.every(key => {
    return localStorage.getItem("lesson1-" + key) === "true";
  });

  const finishedBox = document.getElementById("lesson-finished");
  if (finishedBox) {
    finishedBox.style.display = completed ? "block" : "none";
  }
}


  // Call it on page load too:
  document.addEventListener("DOMContentLoaded", () => {
  document.querySelectorAll(".section-link").forEach(link => {
    const sectionId = "lesson1-" + link.dataset.section;
    const isComplete = localStorage.getItem(sectionId) === "true";
    if (isComplete) {
      link.querySelector(".check").textContent = "‚úîÔ∏è";
      link.classList.add("completed");
    }
  });

  checkLessonCompletion(); // Moved inside DOMContentLoaded
});


    </script>
</body>
</html>